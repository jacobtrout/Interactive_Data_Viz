<!--
The author grants you a license to use this template under the conditions:

    1) You MUST remove the tutorial comments.
       I recommend doing so as you read/understand them.
    2) You SHOULD make an attempt to customize this, 
       it's in everyone's best interest that you work to make
       your final product visually distinct.

There are two ways to get started w/ an HTML project:

- You can pick a complex template that already has lots of content and pare it
  down/adapt it to your needs. (Think woodcarving.)
- You can start with a simple template and only add what you need. (Think LEGO.)

I prefer to build up, but if you pick a more complex starting template the process won't differ much.
You'll just have more to potentially remove, and you'll still do a bit of building.

In the case of this template, I went to this page <https://bulma.io/documentation/start/overview/>
and took the 20-line HTML template that they offer.

This template links to the Bulma CSS file on a CDN, Content Delivery Network.
This is a service that hosts commonly used CSS and JS libraries. For final deployment, we will probably want to stop
using this in favor of our own copy of Bulma/D3/etc. but that can wait.

-->
<!doctype html>
<html>
  <head>
    <!-- these ensure the page displays properly on all devices, most HTML files include these tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      Changing Climate and Corn Production in the Midwest  <!-- updated title tag -->
    </title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"
    />
    <!-- load a custom CSS file from the same directory that this file is in -->
    <link rel="stylesheet" href="custom.css" />

    <style type="text/css">
      /* custom styles could also go here, sometimes I add some here while experimenting */
    </style>
    <!--
       This was not in the bulma template, but I have added it here, this uses D3 from a CDN.
       We will replace it as well.
    -->
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <!-- 
      Additional HTML and CSS would go here in the <head>.
    
      Either using links as seen above, or with <style></style> for inline CSS.
      
      Inline <script> tags often go in the body, so that the elements that they
      reference already exist.
      It is possible to have your code wait for the HTML to load before running as well,
      but this is a simpler approach.

      See the <script> tag at the bottom of this page for more detail.
    -->
  </head>
  <body>
    <section class="section">
      <div class="container">
        <h1 class="title">
          Corn And Climate
        </h1>
        <h2 class="subtitle">
          Midwestern Trends Over The Last Half Century
        </h2>
        
        <div id="map">
          <p class="block">
            The United States leads the world in corn production, consumption, and exports.
            The Midwest dominates this industry, making corn a cornerstone of the region’s politics, economy, and ecosystem.
            However, climate change is reshaping the region’s climate and, in turn, how this vital crop is cultivated.
            Understanding these changes is critical to anticipating future developments in one of the nation’s most influential agricultural sectors.
          </p>

          <p class="block">
            This project examines regional trends in climate and corn production over the past half-century.
            By integrating county-level data on corn production and climate metrics, it highlights changes across the Midwest from 1980 to 2023. 
            The
            <a
              href="https://www.nass.usda.gov/"
              >National Agricultural Statistics Service</a
            >
            collects and publishes data on crop production by county across the United States. The 
            <a
              href="https://www.ncdc.noaa.gov/cdo-web/"
              >National Oceanic and Atmospheric Administration</a
            >
            collects and publishes climate data by county across the United States.
          </p>

          <h2 class="subtitle">Interactive Map Features</h3>
          <p class="block">
            The interactive maps below visualize:
          </p>
          <ul class="block">
            <li>Nominal values of corn production, corn yields, annual average temperatures, and monthly average precipitation by county.</li>
            <li>Relative changes in these metrics, benchmarked against their 1980 values.</li>
          </ul>

          <h2 class="subtitle">How to Use the Map:</h3>
          <ul class="block">
            <li>Use the dropdown in the top-left corner to select a variable of interest.</li>
            <li>Press the "Play" button to observe how the chosen metric evolves over time.</li>
            <li>Click on a county to view specific details in the information box. To zoom out, either scroll or use the "Reset View" button.</li>
          </ul>

          <p class="block">
            <strong>Dual Map Comparison:</strong> To contextualize the nominal values shown in the first map, the second map displays changes relative to 1980 values.
            Selecting a county on either map automatically highlights its details on the other, allowing users to compare relative changes with nominal values.<br />
          </p>

          <div class="block">
            <h3 class="subtitle" id="timeDisplay"></h3>
            <div id="controls" style="margin: 10px;"></div>
            <h3 class="subtitle">Nominal Map</h3>
            <svg id="my_map"> </svg>
            <div id="map_controls">
              <button class="button" id="playPause">Play</button>
              <button class="button" id="resetZoom">Reset View</button>
              <input
                id="timeSlider"
                class="input"
                type="range"
                min="0"
                max="140"
                value="0"
              />
            </div>
          </div>
        </div>
        <div id="map">
          <p class="block">
          </p>
          <div class="block">
            <h3 class="subtitle">Change Map (relative to 1980)</h3>
            <svg id="my_map2"> </svg>
          </div>
        </div>
      </div>
    </section>

    <script src="production_map.js"></script>
  </body>
</html>